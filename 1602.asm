RS	EQU	P1.0
E	EQU	P1.1
X	EQU	P1.2

LCDCS:	MOV	B,#15
LCD1:	LCALL	YS1MS
	DJNZ	B,LCD2
	MOV	B,#3
LCD2:	MOV	A,#38H
	LCALL	XIEZL
	DJNZ	B,LCD1
	LCALL	YS1MS
	MOV	A,#0CH
	LCALL	XIEZL
	LCALL	YS1MS
	MOV	A,#1
	LCALL	XIEZL
	RET

XRWC:	MOV	A,X
	LCALL	XIEZL
	PUSH	ACC
XR1:	CLR	A
	MOVC	A,@A+DPTR
	JZ	XRC
	INC	DPTR
	LCALL	XIESJ
	SJMP	XR1

XRC:	POP	ACC
	RET

XIEZL:	MOV	P0,A
	CLR	RS
	SETB	E
	LCALL	YS1MS
	CLR	E
	RET

XIESJ:	MOV	P0,A
	SETB	RS
	SETB	E
	LCALL	YS1MS
	CLR	E
	RET

YS1MS:	MOV	R6,#2
YS1:	DJNZ	R7,#250
	DJNZ	R6,$
	DJNZ	R6,YS1
	RET

XIESJ:	MOV	X,#80H
	PUSH	ACC
	MOV	A,B
	ADD	A,#30H
	LCALL	XIESJ
	POP	ACC
	RET 