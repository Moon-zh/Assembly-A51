CS18B20:CLR	DS18B20
	MOV	R0,#250
	DJNZ	R0,$
	SETB	DS18B20
	MOV	R0,#35
	DJNZ	R0,$
	JNB	DS18B20,$
	RET

E18B20:	MOV	B,#08H
E1:	CLR	DS18B20
	RRC	A
	MOV	DS18B20,C
	MOV	R0,#28
	DJNZ	R0,$
	SETB	DS18B20
	DJNZ	B,E1
	RET

RD18B20:MOV	B,#08H
RD1:	CLR	DS18B20
	MOV	R0,#1
	DJNZ	R0,$
	SETB	DS18B20
	MOV	C,DS18B20
	RRC	A
	MOV	R0,#23
	DJNZ	R0,$
	DJNZ	B,RD1
	RET

WORK:	JNB	DS18B20,OUT
	LCALL	BI1
	MOV	A,#44H
	LCALL	E18B20
	LCALL	BI1
	MOV	A,#0BEH
	LCALL	E18B20
	LCALL	RD18B20
	MOV	B,A
	SWAP	A
	ANL	A,#0FH
	MOV	DS7,A
	MOV	A,B
	ANL	A,#0FH
	MOV	DPTR,#TAB1
	MOVC	A,@A+DPTR
	MOV	DS6,A
	LCALL	RD18B20
	SWAP	A
	ADD	A,DS7
	MOV	DS7,A	
OUT:	RET

BI1:	LCALL	CS18B20
	MOV	A,#0CCH
	LCALL	E18B20
	RET

BIN:	LCALL	WORK
	MOV	A,DS7
	MOV	B,#10
	DIV	AB
	MOV	DS3,A
	MOV	DS2,B
	MOV	A,DS6
	MOV	B,#10
	DIV	AB
	MOV	DS1,A
	MOV	DS0,B
	RET
TAB1:DB	00,06,13,19,25,31
     DB	38,44,50,56,62,69
     DB	75,81,88,94